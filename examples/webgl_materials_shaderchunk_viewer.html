<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - materials - shaderchunk viewer</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
		<style>

			@font-face {
				font-family: 'inconsolata';
				src: url('files/inconsolata.woff') format('woff');
				font-weight: normal;
				font-style: normal;
			}

			body {
				background:#000;
				color:#fff;
				padding:0;
				margin:0;
				font-weight: bold;
				overflow:hidden;
			}

			a {
				color: #ffffff;
			}

			#info {
				position: absolute;
				top: 0px; width: 100%;
				color: #ffffff;
				padding: 5px;
				font-family:Monospace;
				font-size:13px;
				text-align:center;
				z-index:1000;
			}

			#oldie {
				background:rgb(200,100,0) !important;
				color:#fff;
			}

		</style>
	</head>

	<body>
		<div id="info">
			<a href="http://threejs.org" target="_blank" rel="noopener">three.js</a> wegbl - shaderchunk viewer.
		</div>

		<script src="../build/three.js"></script>

		<script>

			var materialClasses = [
				[ THREE.MeshDepthMaterial, 'depth' ],
				[ THREE.MeshDistanceMaterial, 'distanceRGBA' ],
				[ THREE.MeshNormalMaterial, 'normal' ],
				[ THREE.MeshBasicMaterial, 'basic' ],
				[ THREE.MeshLambertMaterial, 'lambert' ],
				[ THREE.MeshPhongMaterial, 'phong' ],
				[ THREE.MeshToonMaterial, 'phong' ],
				[ THREE.MeshStandardMaterial, 'physical' ],
				[ THREE.MeshPhysicalMaterial, 'physical' ],
				[ THREE.LineBasicMaterial, 'basic' ],
				[ THREE.LineDashedMaterial, 'dashed' ],
				[ THREE.PointsMaterial, 'points' ],
				[ THREE.ShadowMaterial, 'shadow' ]
			];

			var materials = [];

			var renderer = new THREE.WebGLRenderer();
			var scene = new THREE.Scene();
			var camera = new THREE.PerspectiveCamera(70,16/9,0.1,1000);
			var geometry = new THREE.PlaneBufferGeometry(1,1,1,1);

			var compileMaterial = function( MaterialClass ){

				var material = new MaterialClass();				
				var mesh = new THREE.Mesh( geometry,material );

				scene.add( mesh );
				renderer.render( scene, camera );
				scene.remove( mesh );

				return {
					type: material.type,
					vertexShader: renderer.context.getShaderSource( material.program.vertexShader ),
					fragmentShader: renderer.context.getShaderSource( material.program.fragmentShader )
				}

			}

			for( var i = 0; i<materialClasses.length; i++ ){
				materials.push( compileMaterial( materialClasses[i][0] ) );
			}

			console.log( materials );
			

		</script>

	</body>
</html>
